(window.webpackJsonp=window.webpackJsonp||[]).push([[9],{NTsU:function(e,t,a){"use strict";a.r(t);var n=a("fXoL"),o=a("ofXK"),i=a("tyNb"),r=a("KyPx"),s=a("pLZG"),l=a("lJxs"),c=a("vkgz"),m=a("eIep"),p=a("nYR2"),d=a("JIr8"),u=a("GrLX"),g=a("dWir"),f=a("gbzl"),x=a("S0jo"),h=a("ZE6C"),v=a("AytR"),b=a("RXgp"),E=a("IzEk"),C=a("tk/3");let y=(()=>{class e extends h.a{constructor(e){super(e,v.a.api+b.a.etapasObrigatorias),this.http=e}getTemplates(e){return this.http.get(`${this.url}${e}/templates`).pipe(Object(E.a)(1))}}return e.\u0275fac=function(t){return new(t||e)(n["\u0275\u0275inject"](C.b))},e.\u0275prov=n["\u0275\u0275defineInjectable"]({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();var S=a("z6cu");let I=(()=>{class e{constructor(){}ngOnInit(){}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=n["\u0275\u0275defineComponent"]({type:e,selectors:[["app-info-cronograma"]],decls:6,vars:0,consts:[[1,"text-center"],["src","assets/img/erro-cronograma.jpg","alt","Erro ao fazer mudan\xe7a de etapa."]],template:function(e,t){1&e&&(n["\u0275\u0275elementStart"](0,"p"),n["\u0275\u0275text"](1,' As etapas do cronograma s\xe3o atualizadas automaticamente, ou seja, o pr\xf3prio sistema inicia a etapa na data prevista. Apesar disso, \xe9 poss\xedvel antecipar uma etapa apenas clicando no bot\xe3o "Pr\xf3xima Etapa".'),n["\u0275\u0275element"](2,"br"),n["\u0275\u0275text"](3," Caso ocorra algum problema ao tentar mudar de etapa (ex.: vota\xe7\xe3o n\xe3o atingui o quorum m\xednimo), o cronograma permanecer\xe1 inalterado, por\xe9m a etapa ser\xe1 sinalizada, conforme o exemplo abaixo:\n"),n["\u0275\u0275elementEnd"](),n["\u0275\u0275elementStart"](4,"p",0),n["\u0275\u0275element"](5,"img",1),n["\u0275\u0275elementEnd"]())},styles:[""]}),e})();a("TQ7X");var w=a("quSY"),P=a("3Pt+"),M=a("zGDX"),z=a("lVl8"),q=a("jKAO"),O=a("VfTn");function A(e,t){if(1&e&&(n["\u0275\u0275elementStart"](0,"span",3),n["\u0275\u0275text"](1,"Portanto, somente ser\xe1 permitido passar para a pr\xf3xima etapa, se houverem "),n["\u0275\u0275elementStart"](2,"strong"),n["\u0275\u0275text"](3),n["\u0275\u0275elementEnd"](),n["\u0275\u0275text"](4,"."),n["\u0275\u0275elementEnd"]()),2&e){const e=n["\u0275\u0275nextContext"]();n["\u0275\u0275advance"](3),n["\u0275\u0275textInterpolate1"]("no m\xednimo ",e.dimensionamento.qtdaEfetivos+e.dimensionamento.qtdaSuplentes," inscri\xe7\xf5es aprovadas")}}function k(e,t){1&e&&(n["\u0275\u0275elementStart"](0,"span",3),n["\u0275\u0275text"](1,"A quantidade m\xednima de inscri\xe7\xf5es j\xe1 foi alcan\xe7ada."),n["\u0275\u0275elementEnd"]())}let V=(()=>{class e{constructor(){this.atualizar=new n.EventEmitter}ngOnInit(){this.ultimaAtualizacao=new Date}get possuiQtdaMinimaInscricoes(){return this.dimensionamento&&this.dimensionamento.qtdaInscricoesAprovadas>=this.dimensionamento.qtdaEfetivos+this.dimensionamento.qtdaSuplentes}onAtualizar(){this.atualizar.emit()}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=n["\u0275\u0275defineComponent"]({type:e,selectors:[["app-etapa-dimensionamento"]],inputs:{dimensionamento:"dimensionamento",codigoGrupo:"codigoGrupo"},outputs:{atualizar:"atualizar"},decls:37,vars:15,consts:[[1,"alert",3,"ngClass"],["style","display: block; margin-bottom: 8px;",4,"ngIf"],[1,"fa","fa-refresh",3,"click"],[2,"display","block","margin-bottom","8px"]],template:function(e,t){1&e&&(n["\u0275\u0275elementStart"](0,"div",0),n["\u0275\u0275text"](1," Para empresas do grupo "),n["\u0275\u0275elementStart"](2,"strong"),n["\u0275\u0275text"](3),n["\u0275\u0275elementEnd"](),n["\u0275\u0275text"](4,", com "),n["\u0275\u0275elementStart"](5,"strong"),n["\u0275\u0275text"](6),n["\u0275\u0275elementEnd"](),n["\u0275\u0275text"](7," funcion\xe1rios, o dimensionamento dos membros da CIPA \xe9: "),n["\u0275\u0275element"](8,"br"),n["\u0275\u0275elementStart"](9,"strong"),n["\u0275\u0275text"](10,"Efetivos: "),n["\u0275\u0275elementEnd"](),n["\u0275\u0275text"](11),n["\u0275\u0275element"](12,"br"),n["\u0275\u0275elementStart"](13,"strong"),n["\u0275\u0275text"](14,"Suplentes: "),n["\u0275\u0275elementEnd"](),n["\u0275\u0275text"](15),n["\u0275\u0275element"](16,"br"),n["\u0275\u0275elementStart"](17,"strong"),n["\u0275\u0275text"](18,"Inscri\xe7\xf5es: "),n["\u0275\u0275elementEnd"](),n["\u0275\u0275element"](19,"br"),n["\u0275\u0275elementStart"](20,"ul"),n["\u0275\u0275elementStart"](21,"li"),n["\u0275\u0275text"](22),n["\u0275\u0275elementEnd"](),n["\u0275\u0275elementStart"](23,"li"),n["\u0275\u0275text"](24),n["\u0275\u0275elementEnd"](),n["\u0275\u0275elementStart"](25,"li"),n["\u0275\u0275text"](26),n["\u0275\u0275elementEnd"](),n["\u0275\u0275elementStart"](27,"li"),n["\u0275\u0275text"](28),n["\u0275\u0275elementEnd"](),n["\u0275\u0275elementEnd"](),n["\u0275\u0275element"](29,"br"),n["\u0275\u0275template"](30,A,5,1,"span",1),n["\u0275\u0275template"](31,k,2,0,"span",1),n["\u0275\u0275elementStart"](32,"small"),n["\u0275\u0275text"](33),n["\u0275\u0275pipe"](34,"date"),n["\u0275\u0275elementStart"](35,"a"),n["\u0275\u0275elementStart"](36,"span",2),n["\u0275\u0275listener"]("click",(function(){return t.onAtualizar()})),n["\u0275\u0275elementEnd"](),n["\u0275\u0275elementEnd"](),n["\u0275\u0275elementEnd"](),n["\u0275\u0275elementEnd"]()),2&e&&(n["\u0275\u0275property"]("ngClass",t.possuiQtdaMinimaInscricoes?"alert-success":"alert-danger"),n["\u0275\u0275advance"](3),n["\u0275\u0275textInterpolate"](t.codigoGrupo),n["\u0275\u0275advance"](3),n["\u0275\u0275textInterpolate"](t.dimensionamento.qtdaEleitores),n["\u0275\u0275advance"](5),n["\u0275\u0275textInterpolate"](t.dimensionamento.qtdaEfetivos),n["\u0275\u0275advance"](4),n["\u0275\u0275textInterpolate"](t.dimensionamento.qtdaSuplentes),n["\u0275\u0275advance"](7),n["\u0275\u0275textInterpolate1"]("Aprovadas: ",t.dimensionamento.qtdaInscricoesAprovadas,""),n["\u0275\u0275advance"](2),n["\u0275\u0275textInterpolate1"]("Reprovadas: ",t.dimensionamento.qtdaInscricoesReprovadas,""),n["\u0275\u0275advance"](2),n["\u0275\u0275textInterpolate1"]("Pendentes: ",t.dimensionamento.qtdaInscricoesPendentes,""),n["\u0275\u0275advance"](2),n["\u0275\u0275textInterpolate1"]("Total: ",t.dimensionamento.qtdaInscricoes,""),n["\u0275\u0275advance"](2),n["\u0275\u0275property"]("ngIf",!t.possuiQtdaMinimaInscricoes),n["\u0275\u0275advance"](1),n["\u0275\u0275property"]("ngIf",t.possuiQtdaMinimaInscricoes),n["\u0275\u0275advance"](2),n["\u0275\u0275textInterpolate1"](" \xdaltima atualiza\xe7\xe3o: ",n["\u0275\u0275pipeBind2"](34,12,t.ultimaAtualizacao,"dd/MM/yyyy HH:mm")," - "))},directives:[o.k,o.m],pipes:[o.e],styles:[""]}),e})();function j(e,t){if(1&e&&(n["\u0275\u0275elementStart"](0,"span",4),n["\u0275\u0275text"](1,"Portanto, somente ser\xe1 permitido passar para a pr\xf3xima etapa, se houverem "),n["\u0275\u0275elementStart"](2,"strong"),n["\u0275\u0275text"](3),n["\u0275\u0275elementEnd"](),n["\u0275\u0275text"](4,"."),n["\u0275\u0275elementEnd"]()),2&e){const e=n["\u0275\u0275nextContext"]();n["\u0275\u0275advance"](3),n["\u0275\u0275textInterpolate1"]("no m\xednimo ",e.dimensionamento.qtdaMinimaVotos," votos")}}function D(e,t){1&e&&(n["\u0275\u0275elementStart"](0,"span",5),n["\u0275\u0275text"](1,"A quantidade m\xednima de votos necess\xe1ria para apura\xe7\xe3o j\xe1 foi alcan\xe7ada."),n["\u0275\u0275elementEnd"]())}let T=(()=>{class e{constructor(){this.atualizar=new n.EventEmitter}ngOnInit(){this.ultimaAtualizacao=new Date}get possuiQtdaMinimaVotos(){return this.dimensionamento.qtdaVotos>=this.dimensionamento.qtdaMinimaVotos}onAtualizar(){this.atualizar.emit()}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=n["\u0275\u0275defineComponent"]({type:e,selectors:[["app-etapa-percentual-votos"]],inputs:{dimensionamento:"dimensionamento"},outputs:{atualizar:"atualizar"},decls:24,vars:9,consts:[[1,"alert",3,"ngClass"],["style","display: block; margin-bottom: 8px; margin-top: 5px;",4,"ngIf"],["style","display: block; margin-bottom: 8px;",4,"ngIf"],[1,"fa","fa-refresh",3,"click"],[2,"display","block","margin-bottom","8px","margin-top","5px"],[2,"display","block","margin-bottom","8px"]],template:function(e,t){1&e&&(n["\u0275\u0275elementStart"](0,"div",0),n["\u0275\u0275text"](1," A NR-5 define que havendo participa\xe7\xe3o "),n["\u0275\u0275elementStart"](2,"strong"),n["\u0275\u0275text"](3,"inferior a 50%"),n["\u0275\u0275elementEnd"](),n["\u0275\u0275text"](4," dos empregados na vota\xe7\xe3o, n\xe3o haver\xe1 a apura\xe7\xe3o dos votos e a comiss\xe3o eleitoral dever\xe1 organizar outra vota\xe7\xe3o que ocorrer\xe1 no prazo m\xe1ximo de "),n["\u0275\u0275elementStart"](5,"strong"),n["\u0275\u0275text"](6,"10 dias"),n["\u0275\u0275elementEnd"](),n["\u0275\u0275text"](7,"."),n["\u0275\u0275element"](8,"br"),n["\u0275\u0275elementStart"](9,"strong"),n["\u0275\u0275text"](10,"Funcion\xe1rios: "),n["\u0275\u0275elementEnd"](),n["\u0275\u0275text"](11),n["\u0275\u0275element"](12,"br"),n["\u0275\u0275elementStart"](13,"strong"),n["\u0275\u0275text"](14,"Votos: "),n["\u0275\u0275elementEnd"](),n["\u0275\u0275text"](15),n["\u0275\u0275element"](16,"br"),n["\u0275\u0275template"](17,j,5,1,"span",1),n["\u0275\u0275template"](18,D,2,0,"span",2),n["\u0275\u0275elementStart"](19,"small"),n["\u0275\u0275text"](20),n["\u0275\u0275pipe"](21,"date"),n["\u0275\u0275elementStart"](22,"a"),n["\u0275\u0275elementStart"](23,"span",3),n["\u0275\u0275listener"]("click",(function(){return t.onAtualizar()})),n["\u0275\u0275elementEnd"](),n["\u0275\u0275elementEnd"](),n["\u0275\u0275elementEnd"](),n["\u0275\u0275elementEnd"]()),2&e&&(n["\u0275\u0275property"]("ngClass",t.possuiQtdaMinimaVotos?"alert-success":"alert-danger"),n["\u0275\u0275advance"](11),n["\u0275\u0275textInterpolate"](t.dimensionamento.qtdaEleitores),n["\u0275\u0275advance"](4),n["\u0275\u0275textInterpolate"](t.dimensionamento.qtdaVotos),n["\u0275\u0275advance"](2),n["\u0275\u0275property"]("ngIf",!t.possuiQtdaMinimaVotos),n["\u0275\u0275advance"](1),n["\u0275\u0275property"]("ngIf",t.possuiQtdaMinimaVotos),n["\u0275\u0275advance"](2),n["\u0275\u0275textInterpolate1"]("\xdaltima atualiza\xe7\xe3o: ",n["\u0275\u0275pipeBind2"](21,6,t.ultimaAtualizacao,"dd/MM/yyyy HH:mm")," - "))},directives:[o.k,o.m],pipes:[o.e],styles:[""]}),e})();var _=a("5VGI"),F=a("19Fg");const G=["etapa-cronograma",""];function N(e,t){if(1&e&&(n["\u0275\u0275elementStart"](0,"span",20),n["\u0275\u0275element"](1,"em",21),n["\u0275\u0275text"](2),n["\u0275\u0275elementEnd"]()),2&e){const e=n["\u0275\u0275nextContext"]();n["\u0275\u0275property"]("tooltip",e.etapa.erroMudancaEtapa),n["\u0275\u0275advance"](2),n["\u0275\u0275textInterpolate1"](" ",e.etapa.nome," ")}}function R(e,t){if(1&e){const e=n["\u0275\u0275getCurrentView"]();n["\u0275\u0275elementStart"](0,"span",22),n["\u0275\u0275elementStart"](1,"app-custom-input",23,24),n["\u0275\u0275listener"]("ngModelChange",(function(t){return n["\u0275\u0275restoreView"](e),n["\u0275\u0275nextContext"]().etapa.nome=t})),n["\u0275\u0275elementEnd"](),n["\u0275\u0275elementEnd"]()}if(2&e){const e=n["\u0275\u0275reference"](2),t=n["\u0275\u0275nextContext"]();n["\u0275\u0275advance"](1),n["\u0275\u0275property"]("ngModel",t.etapa.nome)("readOnly",!t.editando)("showLabel",!1)("control",e)}}function Q(e,t){if(1&e&&(n["\u0275\u0275elementStart"](0,"span",27),n["\u0275\u0275text"](1),n["\u0275\u0275pipe"](2,"number"),n["\u0275\u0275elementEnd"]()),2&e){const e=n["\u0275\u0275nextContext"](2);n["\u0275\u0275advance"](1),n["\u0275\u0275textInterpolate1"]("",n["\u0275\u0275pipeBind2"](2,1,e.diasAtrasos,"1.0-0")," dias de atraso")}}function $(e,t){if(1&e&&(n["\u0275\u0275elementStart"](0,"small",25),n["\u0275\u0275template"](1,Q,3,4,"span",26),n["\u0275\u0275elementEnd"]()),2&e){const e=n["\u0275\u0275nextContext"]();n["\u0275\u0275advance"](1),n["\u0275\u0275property"]("ngIf",e.diasAtrasos>0)}}function B(e,t){if(1&e&&(n["\u0275\u0275elementStart"](0,"div",28),n["\u0275\u0275elementStart"](1,"span"),n["\u0275\u0275element"](2,"em",29),n["\u0275\u0275elementEnd"](),n["\u0275\u0275text"](3),n["\u0275\u0275pipe"](4,"date"),n["\u0275\u0275elementEnd"]()),2&e){const e=n["\u0275\u0275nextContext"]();n["\u0275\u0275advance"](3),n["\u0275\u0275textInterpolate1"](" ",n["\u0275\u0275pipeBind2"](4,1,e.form.get("data").value,"dd/MM/yyyy")," ")}}function L(e,t){if(1&e&&n["\u0275\u0275element"](0,"app-datepicker",30),2&e){const e=n["\u0275\u0275nextContext"]();n["\u0275\u0275property"]("name","data"+e.etapa.id+e.randomId)("id","data"+e.etapa.id+e.randomId)("control",e.form.get("data"))}}function H(e,t){1&e&&(n["\u0275\u0275elementStart"](0,"small"),n["\u0275\u0275text"](1,"Clique na data acima para alter\xe1-la."),n["\u0275\u0275elementEnd"]())}function X(e,t){if(1&e){const e=n["\u0275\u0275getCurrentView"]();n["\u0275\u0275elementStart"](0,"span"),n["\u0275\u0275text"](1),n["\u0275\u0275elementStart"](2,"a",31),n["\u0275\u0275listener"]("click",(function(){return n["\u0275\u0275restoreView"](e),n["\u0275\u0275nextContext"]().editando=!0})),n["\u0275\u0275element"](3,"span",32),n["\u0275\u0275elementEnd"](),n["\u0275\u0275elementEnd"]()}if(2&e){const e=n["\u0275\u0275nextContext"]();n["\u0275\u0275advance"](1),n["\u0275\u0275textInterpolate1"](" ",e.etapa.descricao," ")}}function J(e,t){if(1&e){const e=n["\u0275\u0275getCurrentView"]();n["\u0275\u0275elementStart"](0,"textarea",33),n["\u0275\u0275listener"]("ngModelChange",(function(t){return n["\u0275\u0275restoreView"](e),n["\u0275\u0275nextContext"]().etapa.descricao=t})),n["\u0275\u0275elementEnd"]()}if(2&e){const e=n["\u0275\u0275nextContext"]();n["\u0275\u0275property"]("ngModel",e.etapa.descricao)("readonly",!e.editando)}}function Y(e,t){if(1&e){const e=n["\u0275\u0275getCurrentView"]();n["\u0275\u0275elementStart"](0,"app-etapa-dimensionamento",38),n["\u0275\u0275listener"]("atualizar",(function(){return n["\u0275\u0275restoreView"](e),n["\u0275\u0275nextContext"](3).onAtualizarDimensionamento()})),n["\u0275\u0275elementEnd"]()}if(2&e){const e=n["\u0275\u0275nextContext"](3);n["\u0275\u0275property"]("dimensionamento",e.dimensionamento)("codigoGrupo",e.codigoGrupo)}}function K(e,t){if(1&e){const e=n["\u0275\u0275getCurrentView"]();n["\u0275\u0275elementStart"](0,"app-etapa-percentual-votos",39),n["\u0275\u0275listener"]("atualizar",(function(){return n["\u0275\u0275restoreView"](e),n["\u0275\u0275nextContext"](3).onAtualizarDimensionamento()})),n["\u0275\u0275elementEnd"]()}if(2&e){const e=n["\u0275\u0275nextContext"](3);n["\u0275\u0275property"]("dimensionamento",e.dimensionamento)}}function U(e,t){if(1&e&&(n["\u0275\u0275elementStart"](0,"div",35),n["\u0275\u0275template"](1,Y,1,2,"app-etapa-dimensionamento",36),n["\u0275\u0275template"](2,K,1,1,"app-etapa-percentual-votos",37),n["\u0275\u0275elementEnd"]()),2&e){const e=n["\u0275\u0275nextContext"](2);n["\u0275\u0275property"]("ngSwitch",e.etapa.etapaObrigatoriaId),n["\u0275\u0275advance"](1),n["\u0275\u0275property"]("ngSwitchCase",e.CodigoEtapaObrigatoria.Inscricao),n["\u0275\u0275advance"](1),n["\u0275\u0275property"]("ngSwitchCase",e.CodigoEtapaObrigatoria.Votacao)}}function Z(e,t){if(1&e&&(n["\u0275\u0275elementStart"](0,"div",1),n["\u0275\u0275template"](1,U,3,3,"div",34),n["\u0275\u0275elementEnd"]()),2&e){const e=n["\u0275\u0275nextContext"]();n["\u0275\u0275advance"](1),n["\u0275\u0275property"]("ngIf",e.etapa.posicaoEtapa!==e.PosicaoEtapa.Futura)}}function W(e,t){if(1&e){const e=n["\u0275\u0275getCurrentView"]();n["\u0275\u0275elementStart"](0,"div",40),n["\u0275\u0275elementStart"](1,"p"),n["\u0275\u0275text"](2,"Possu\xedmos alguns documentos de exemplo que podem te ajudar. Confira-os e fique \xe0 vontade para utiliz\xe1-los!"),n["\u0275\u0275elementEnd"](),n["\u0275\u0275elementStart"](3,"button",41),n["\u0275\u0275listener"]("click",(function(){n["\u0275\u0275restoreView"](e);const t=n["\u0275\u0275nextContext"]();return t.onExibirTemplates(t.etapa.id)})),n["\u0275\u0275element"](4,"em",42),n["\u0275\u0275text"](5," Templates"),n["\u0275\u0275elementEnd"](),n["\u0275\u0275elementEnd"]()}if(2&e){const e=n["\u0275\u0275nextContext"]();n["\u0275\u0275advance"](3),n["\u0275\u0275property"]("disabled",e.etapa.posicaoEtapa===e.PosicaoEtapa.Futura)}}function ee(e,t){if(1&e){const e=n["\u0275\u0275getCurrentView"]();n["\u0275\u0275elementStart"](0,"div",46),n["\u0275\u0275elementStart"](1,"div",6),n["\u0275\u0275elementStart"](2,"button",47),n["\u0275\u0275listener"]("click",(function(){return n["\u0275\u0275restoreView"](e),n["\u0275\u0275nextContext"](2).onProximaEtapa()})),n["\u0275\u0275text"](3," Pr\xf3xima Etapa"),n["\u0275\u0275elementEnd"](),n["\u0275\u0275elementEnd"](),n["\u0275\u0275elementEnd"]()}if(2&e){const e=n["\u0275\u0275nextContext"](2);n["\u0275\u0275advance"](2),n["\u0275\u0275property"]("ladda",e.carregandoProximaEtapa)}}function te(e,t){if(1&e){const e=n["\u0275\u0275getCurrentView"]();n["\u0275\u0275elementStart"](0,"div",43),n["\u0275\u0275elementStart"](1,"app-arquivos",44),n["\u0275\u0275listener"]("upload",(function(t){return n["\u0275\u0275restoreView"](e),n["\u0275\u0275nextContext"]().upload(t)}))("delete",(function(){return n["\u0275\u0275restoreView"](e),n["\u0275\u0275nextContext"]().deleteArquivo()})),n["\u0275\u0275elementEnd"](),n["\u0275\u0275template"](2,ee,4,1,"div",45),n["\u0275\u0275elementEnd"]()}if(2&e){const e=n["\u0275\u0275nextContext"]();n["\u0275\u0275advance"](1),n["\u0275\u0275property"]("arquivos",e.arquivos),n["\u0275\u0275advance"](1),n["\u0275\u0275property"]("ngIf",e.etapa.posicaoEtapa===e.PosicaoEtapa.Atual)}}let ae=(()=>{class e{constructor(e,t){this.formBuilder=e,this.eleicoesApi=t,this.layout="Visualiza\xe7\xe3o",this.carregandoProximaEtapa=!1,this.proximaEtapa=new n.EventEmitter,this.exibirTemplates=new n.EventEmitter,this.atualizarEtapa=new n.EventEmitter,this.edicaoCancelada=new n.EventEmitter,this.atualizarDimensionamento=new n.EventEmitter,this.subscriptions=new w.a,this.PosicaoEtapa=r.b,this.carregandoArquivos=!1,this.arquivos=[],this.CodigoEtapaObrigatoria=r.a,this.editando=!1,this.atualizarArquivos$=new n.EventEmitter}set etapa(e){this._etapa=e,e.posicaoEtapa===r.b.Futura||this.arquivos.length||this.atualizarArquivos$.emit()}get etapa(){return this._etapa}ngOnInit(){this.randomId=Math.floor(9999*Math.random()),this.form=this.formBuilder.group({data:[{value:this.etapa.dataRealizada||this.etapa.dataPrevista,disabled:this.isDateDisabled}]}),this.subscriptions.add(this.form.get("data").valueChanges.subscribe(e=>{this.etapa.dataPrevista=e,this.onAtualizarEtapa()})),this.subscriptions.add(this.atualizarArquivos$.pipe(Object(m.a)(e=>this.eleicoesApi.getArquivos(this.etapa.eleicaoId,this.etapa.id))).subscribe(e=>{this.arquivos=e})),this.etapa&&this.etapa.posicaoEtapa!==r.b.Futura&&this.atualizarArquivos$.emit(),this.ultimaAtualizacao=new Date}get isDateDisabled(){return"Visualiza\xe7\xe3o"===this.layout&&this.etapa.posicaoEtapa!==r.b.Futura}get calendarStyle(){if("Cadastro"===this.layout)return{icon:"fa-calendar",class:"blue-bg"};switch(this.etapa.posicaoEtapa){case r.b.Atual:return this.etapa.erroMudancaEtapa?{icon:"fa-calendar-times-o",class:"bg-danger"}:{icon:"fa-calendar",class:"blue-bg"};case r.b.Passada:return{icon:"fa-calendar-check-o",class:"navy-bg"};case r.b.Futura:return{icon:"fa-calendar-o",class:"bg-muted"};default:return{icon:"",class:""}}}get tamanhoDescricao(){return"Cadastro"===this.layout||this.etapa.posicaoEtapa===r.b.Futura?"col-md-12":"col-lg-8 col-md-6"}get diasAtrasos(){let e=new Date(this.etapa.dataPrevista);e=new Date(e.getFullYear(),e.getMonth(),e.getDate());let t=new Date;return t=new Date(t.getFullYear(),t.getMonth(),t.getDate()),(t.getTime()-e.getTime())/864e5}onCancelarEdicao(){this.edicaoCancelada.emit(),this.editando=!1}upload(e){this.carregandoArquivos=!0,this.subscriptions.add(this.eleicoesApi.uploadArquivos(this.etapa.eleicaoId,this.etapa.id,e).pipe(Object(m.a)(e=>this.eleicoesApi.getArquivos(this.etapa.eleicaoId,this.etapa.id)),Object(p.a)(()=>this.carregandoArquivos=!1)).subscribe(e=>{this.arquivos=e}))}deleteArquivo(){this.eleicoesApi.getArquivos(this.etapa.eleicaoId,this.etapa.id).subscribe(e=>{this.arquivos=e})}onProximaEtapa(){this.proximaEtapa.emit(this.etapa)}onExibirTemplates(){this.exibirTemplates.emit(this.etapa)}onAtualizarEtapa(){this.atualizarEtapa.emit(this.etapa)}onAtualizarDimensionamento(){this.atualizarDimensionamento.emit()}ngOnDestroy(){this.subscriptions.unsubscribe()}}return e.\u0275fac=function(t){return new(t||e)(n["\u0275\u0275directiveInject"](P.FormBuilder),n["\u0275\u0275directiveInject"](u.a))},e.\u0275cmp=n["\u0275\u0275defineComponent"]({type:e,selectors:[["","etapa-cronograma",""]],inputs:{etapa:"etapa",layout:"layout",carregandoProximaEtapa:"carregandoProximaEtapa",dimensionamento:"dimensionamento",codigoGrupo:"codigoGrupo"},outputs:{proximaEtapa:"proximaEtapa",exibirTemplates:"exibirTemplates",atualizarEtapa:"atualizarEtapa",edicaoCancelada:"edicaoCancelada",atualizarDimensionamento:"atualizarDimensionamento"},attrs:G,decls:28,vars:17,consts:[["timeline-item","",1,"vertical-timeline-block",3,"calendarIcon","calendarClass"],[1,"row"],[1,"col-sm-12",3,"ngClass"],["theme","dark","class","text-danger",3,"tooltip",4,"ngIf"],["class","nome-etapa",4,"ngIf"],["class","dias-atraso",4,"ngIf"],[1,"col-md-12"],[3,"formGroup"],[1,"vertical-date"],["style","font-size: 14px;cursor: not-allowed;color:#676a6c",4,"ngIf"],["formControlName","data",3,"name","id","control",4,"ngIf"],[4,"ngIf"],["class","form-control","rows","4",3,"ngModel","readonly","ngModelChange",4,"ngIf"],[1,"btn","btn-outline-success","btn-sm","btn-salvar","m-r-sm","m-b-sm",3,"click"],[1,"fa","fa-floppy-o"],[1,"btn","btn-outline-primary","btn-sm","btn-cancelar","m-r-sm","m-b-sm",3,"click"],[1,"fa","fa-ban"],["class","row",4,"ngIf"],["class","templates",4,"ngIf"],["class","col-lg-4 col-md-6 col-sm-12 arquivos",4,"ngIf"],["theme","dark",1,"text-danger",3,"tooltip"],[1,"fa","fa-exclamation-circle"],[1,"nome-etapa"],["required","","name","Nome","label","Nome da Etapa",3,"ngModel","readOnly","showLabel","control","ngModelChange"],["nome","ngModel"],[1,"dias-atraso"],["class","label label-danger pull-right dias-atraso",4,"ngIf"],[1,"label","label-danger","pull-right","dias-atraso"],[2,"font-size","14px","cursor","not-allowed","color","#676a6c"],[1,"fa","fa-calendar"],["formControlName","data",3,"name","id","control"],[1,"btn-editar",3,"click"],[1,"fa","fa-pencil"],["rows","4",1,"form-control",3,"ngModel","readonly","ngModelChange"],["class","col-sm-12",3,"ngSwitch",4,"ngIf"],[1,"col-sm-12",3,"ngSwitch"],[3,"dimensionamento","codigoGrupo","atualizar",4,"ngSwitchCase"],[3,"dimensionamento","atualizar",4,"ngSwitchCase"],[3,"dimensionamento","codigoGrupo","atualizar"],[3,"dimensionamento","atualizar"],[1,"templates"],[1,"btn","btn-success","float-left",3,"disabled","click"],[1,"fa","fa-file-text"],[1,"col-lg-4","col-md-6","col-sm-12","arquivos"],[3,"arquivos","upload","delete"],["class","row m-t-sm",4,"ngIf"],[1,"row","m-t-sm"],["href","#",1,"btn","btn-primary",2,"float","right",3,"ladda","click"]],template:function(e,t){1&e&&(n["\u0275\u0275elementStart"](0,"div",0),n["\u0275\u0275elementStart"](1,"div",1),n["\u0275\u0275elementStart"](2,"div",2),n["\u0275\u0275elementStart"](3,"h2"),n["\u0275\u0275template"](4,N,3,2,"span",3),n["\u0275\u0275template"](5,R,3,4,"span",4),n["\u0275\u0275template"](6,$,2,1,"small",5),n["\u0275\u0275elementEnd"](),n["\u0275\u0275elementStart"](7,"div",1),n["\u0275\u0275elementStart"](8,"div",6),n["\u0275\u0275elementStart"](9,"form",7),n["\u0275\u0275elementStart"](10,"span",8),n["\u0275\u0275template"](11,B,5,4,"div",9),n["\u0275\u0275template"](12,L,1,3,"app-datepicker",10),n["\u0275\u0275template"](13,H,2,0,"small",11),n["\u0275\u0275elementEnd"](),n["\u0275\u0275elementEnd"](),n["\u0275\u0275elementEnd"](),n["\u0275\u0275elementEnd"](),n["\u0275\u0275elementStart"](14,"p"),n["\u0275\u0275template"](15,X,4,1,"span",11),n["\u0275\u0275template"](16,J,1,2,"textarea",12),n["\u0275\u0275elementEnd"](),n["\u0275\u0275elementStart"](17,"div",1),n["\u0275\u0275elementStart"](18,"div",6),n["\u0275\u0275elementStart"](19,"button",13),n["\u0275\u0275listener"]("click",(function(){return t.onAtualizarEtapa(),t.editando=!1})),n["\u0275\u0275element"](20,"span",14),n["\u0275\u0275text"](21," Salvar"),n["\u0275\u0275elementEnd"](),n["\u0275\u0275elementStart"](22,"button",15),n["\u0275\u0275listener"]("click",(function(){return t.onCancelarEdicao()})),n["\u0275\u0275element"](23,"span",16),n["\u0275\u0275text"](24," Cancelar"),n["\u0275\u0275elementEnd"](),n["\u0275\u0275elementEnd"](),n["\u0275\u0275elementEnd"](),n["\u0275\u0275template"](25,Z,2,1,"div",17),n["\u0275\u0275template"](26,W,6,1,"div",18),n["\u0275\u0275elementEnd"](),n["\u0275\u0275template"](27,te,3,2,"div",19),n["\u0275\u0275elementEnd"](),n["\u0275\u0275elementEnd"]()),2&e&&(n["\u0275\u0275property"]("calendarIcon",t.calendarStyle.icon)("calendarClass",t.calendarStyle.class),n["\u0275\u0275advance"](1),n["\u0275\u0275classProp"]("editando",t.editando),n["\u0275\u0275advance"](1),n["\u0275\u0275property"]("ngClass",t.tamanhoDescricao),n["\u0275\u0275advance"](2),n["\u0275\u0275property"]("ngIf",t.etapa.erroMudancaEtapa),n["\u0275\u0275advance"](1),n["\u0275\u0275property"]("ngIf",!t.etapa.erroMudancaEtapa),n["\u0275\u0275advance"](1),n["\u0275\u0275property"]("ngIf",t.etapa.posicaoEtapa===t.PosicaoEtapa.Futura),n["\u0275\u0275advance"](3),n["\u0275\u0275property"]("formGroup",t.form),n["\u0275\u0275advance"](2),n["\u0275\u0275property"]("ngIf",t.isDateDisabled),n["\u0275\u0275advance"](1),n["\u0275\u0275property"]("ngIf",!t.isDateDisabled),n["\u0275\u0275advance"](1),n["\u0275\u0275property"]("ngIf",!t.isDateDisabled),n["\u0275\u0275advance"](2),n["\u0275\u0275property"]("ngIf",!t.editando),n["\u0275\u0275advance"](1),n["\u0275\u0275property"]("ngIf",t.editando),n["\u0275\u0275advance"](9),n["\u0275\u0275property"]("ngIf",t.dimensionamento),n["\u0275\u0275advance"](1),n["\u0275\u0275property"]("ngIf","Visualiza\xe7\xe3o"===t.layout&&t.etapa.possuiTemplates),n["\u0275\u0275advance"](1),n["\u0275\u0275property"]("ngIf","Visualiza\xe7\xe3o"===t.layout&&t.etapa.posicaoEtapa!==t.PosicaoEtapa.Futura))},directives:[M.a,o.k,o.m,P["\u0275angular_packages_forms_forms_y"],P.NgControlStatusGroup,P.FormGroupDirective,z.a,q.a,P.RequiredValidator,P.NgControlStatus,P.NgModel,O.a,P.FormControlName,P.DefaultValueAccessor,o.n,o.o,V,T,_.a,F.a],pipes:[o.f,o.e],styles:[".vertical-date[_ngcontent-%COMP%]{color:#1ab394}.vertical-date[_ngcontent-%COMP%]   small[_ngcontent-%COMP%]{color:#999;font-size:80%}@media (min-width:992px){.arquivos[_ngcontent-%COMP%]{border-left:1px solid #ddd;margin-top:inherit}}.table[_ngcontent-%COMP%]{margin-bottom:0}.dias-atraso[_ngcontent-%COMP%]{font-size:12px;font-weight:400}[_nghost-%COMP%]     app-custom-input .form-group{margin-bottom:8px}[_nghost-%COMP%]     app-datepicker .input-group-addon{line-height:initial}[_nghost-%COMP%]     app-custom-input input, textarea[_ngcontent-%COMP%]{border:0;padding:0;font-size:inherit}[_nghost-%COMP%]     app-custom-input input[readonly]{background-color:transparent}h2[_ngcontent-%COMP%]{margin:0;display:flex}span.nome-etapa[_ngcontent-%COMP%]{flex-grow:1}span.dias-atraso[_ngcontent-%COMP%]{flex:0 0 auto;width:auto;max-width:none;margin-left:10px}.btn-editar[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{padding-left:10px;padding-right:10px}.btn-cancelar[_ngcontent-%COMP%], .btn-salvar[_ngcontent-%COMP%]{display:none}.editando[_ngcontent-%COMP%]   .btn-cancelar[_ngcontent-%COMP%], .editando[_ngcontent-%COMP%]   .btn-salvar[_ngcontent-%COMP%]{display:inline}[_nghost-%COMP%]   .editando[_ngcontent-%COMP%]     app-custom-input input, [_nghost-%COMP%]   .editando[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{border:1px solid #e5e6e7;padding:6px 12px;color:#676a6c}"]}),e})();var ne=a("b28D");function oe(e,t){if(1&e){const e=n["\u0275\u0275getCurrentView"]();n["\u0275\u0275elementStart"](0,"tr"),n["\u0275\u0275elementStart"](1,"td",2),n["\u0275\u0275elementStart"](2,"button",3),n["\u0275\u0275listener"]("click",(function(){n["\u0275\u0275restoreView"](e);const a=t.$implicit;return n["\u0275\u0275nextContext"]().download(a)})),n["\u0275\u0275element"](3,"i",4),n["\u0275\u0275elementEnd"](),n["\u0275\u0275elementEnd"](),n["\u0275\u0275elementStart"](4,"td",5),n["\u0275\u0275elementStart"](5,"strong"),n["\u0275\u0275text"](6),n["\u0275\u0275elementEnd"](),n["\u0275\u0275element"](7,"br"),n["\u0275\u0275elementStart"](8,"small"),n["\u0275\u0275text"](9),n["\u0275\u0275pipe"](10,"date"),n["\u0275\u0275pipe"](11,"number"),n["\u0275\u0275elementEnd"](),n["\u0275\u0275elementEnd"](),n["\u0275\u0275elementEnd"]()}if(2&e){const e=t.$implicit;n["\u0275\u0275advance"](6),n["\u0275\u0275textInterpolate"](e.nome),n["\u0275\u0275advance"](3),n["\u0275\u0275textInterpolate2"]("Upload: ",n["\u0275\u0275pipeBind2"](10,3,e.dataUpload,"dd/MM/yyy HH:mm"),", ",n["\u0275\u0275pipeBind2"](11,6,e.tamanho/1024,"1.0-1"),"k")}}let ie=(()=>{class e{constructor(e){this.arquivosApi=e}ngOnInit(){}download(e){this.arquivosApi.download(e.id,e.nome,e.contentType).subscribe()}}return e.\u0275fac=function(t){return new(t||e)(n["\u0275\u0275directiveInject"](ne.a))},e.\u0275cmp=n["\u0275\u0275defineComponent"]({type:e,selectors:[["app-templates"]],inputs:{templates:"templates"},decls:7,vars:1,consts:[[1,"table","table-hover"],[4,"ngFor","ngForOf"],[1,"project-status"],[1,"btn","btn-outline","btn-primary","btn-xs",3,"click"],[1,"fa","fa-download"],[1,"project-title"]],template:function(e,t){1&e&&(n["\u0275\u0275elementStart"](0,"h4"),n["\u0275\u0275text"](1,"Documentos Templates"),n["\u0275\u0275elementEnd"](),n["\u0275\u0275elementStart"](2,"p"),n["\u0275\u0275text"](3,"Abaixo est\xe1 a lista de documentos que sugerimos como exemplo para a etapa atual:"),n["\u0275\u0275elementEnd"](),n["\u0275\u0275elementStart"](4,"table",0),n["\u0275\u0275elementStart"](5,"tbody"),n["\u0275\u0275template"](6,oe,12,9,"tr",1),n["\u0275\u0275elementEnd"](),n["\u0275\u0275elementEnd"]()),2&e&&(n["\u0275\u0275advance"](6),n["\u0275\u0275property"]("ngForOf",t.templates))},directives:[o.l],pipes:[o.e,o.f],styles:[""]}),e})();const re=["modalTemplates"],se=["modalInfoCronograma"];function le(e,t){1&e&&n["\u0275\u0275element"](0,"app-info-cronograma")}const ce=function(e){return["/eleicoes",e,"eleitores"]};function me(e,t){if(1&e){const e=n["\u0275\u0275getCurrentView"]();n["\u0275\u0275elementStart"](0,"div"),n["\u0275\u0275elementStart"](1,"p"),n["\u0275\u0275text"](2," Antes de iniciar o processo eleitoral, fa\xe7a a cadastro de todos os funcion\xe1rios da empresa."),n["\u0275\u0275element"](3,"br"),n["\u0275\u0275text"](4," \xc9 importante que o cadastro seja feito agora para que todos os funcion\xe1rios recebam todos os comunicados via e-mail, ainda que seja poss\xedvel cadastrar funcion\xe1rios at\xe9 a etapa de vota\xe7\xe3o. "),n["\u0275\u0275elementEnd"](),n["\u0275\u0275elementStart"](5,"div",8),n["\u0275\u0275elementStart"](6,"div",9),n["\u0275\u0275elementStart"](7,"a",10),n["\u0275\u0275text"](8,"Cadastrar Funcion\xe1rios "),n["\u0275\u0275element"](9,"em",11),n["\u0275\u0275elementEnd"](),n["\u0275\u0275elementStart"](10,"button",12),n["\u0275\u0275listener"]("click",(function(){return n["\u0275\u0275restoreView"](e),n["\u0275\u0275nextContext"]().iniciarProcesso()})),n["\u0275\u0275text"](11),n["\u0275\u0275element"](12,"em",13),n["\u0275\u0275elementEnd"](),n["\u0275\u0275elementEnd"](),n["\u0275\u0275elementEnd"](),n["\u0275\u0275elementEnd"]()}if(2&e){const e=n["\u0275\u0275nextContext"]();n["\u0275\u0275advance"](7),n["\u0275\u0275property"]("routerLink",n["\u0275\u0275pureFunction1"](2,ce,e.eleicao.id)),n["\u0275\u0275advance"](4),n["\u0275\u0275textInterpolate1"]("",e.iniciarProcessoText," ")}}function pe(e,t){if(1&e){const e=n["\u0275\u0275getCurrentView"]();n["\u0275\u0275elementStart"](0,"div",14),n["\u0275\u0275listener"]("proximaEtapa",(function(t){return n["\u0275\u0275restoreView"](e),n["\u0275\u0275nextContext"]().proximaEtapa(t)}))("atualizarEtapa",(function(t){return n["\u0275\u0275restoreView"](e),n["\u0275\u0275nextContext"]().atualizarEtapa(t)}))("exibirTemplates",(function(t){return n["\u0275\u0275restoreView"](e),n["\u0275\u0275nextContext"]().exibirTemplates(t)}))("edicaoCancelada",(function(){return n["\u0275\u0275restoreView"](e),n["\u0275\u0275nextContext"]().recarregaCronograma()}))("atualizarDimensionamento",(function(){return n["\u0275\u0275restoreView"](e),n["\u0275\u0275nextContext"]().atualizarDimensionamento()})),n["\u0275\u0275elementEnd"]()}if(2&e){const e=t.$implicit,a=n["\u0275\u0275nextContext"]();n["\u0275\u0275classProp"]("inactive",e.posicaoEtapa===a.PosicaoEtapa.Futura),n["\u0275\u0275property"]("etapa",e)("codigoGrupo",a.eleicao.grupo)("carregandoProximaEtapa",a.carregandoProximaEtapa)("dimensionamento",a.eleicao.dimensionamento)}}function de(e,t){if(1&e&&n["\u0275\u0275element"](0,"app-templates",15),2&e){const e=n["\u0275\u0275nextContext"]();n["\u0275\u0275property"]("templates",e.templates)}}let ue=(()=>{class e{constructor(e,t,a,n,o,i){this.route=e,this.router=t,this.eleicoesApi=a,this.toasts=n,this.modalService=o,this.etapasObrigatoriasApi=i,this.PosicaoEtapa=r.b,this.carregandoProximaEtapa=!1}ngOnInit(){this.route.data.pipe(Object(s.a)(e=>e.hasOwnProperty("eleicao")),Object(l.a)(e=>e.eleicao),Object(c.a)(e=>this.eleicao=e),Object(m.a)(e=>this.eleicoesApi.getCronograma(e.id))).subscribe(e=>{this.eleicao.cronograma=e})}recarregaCronograma(){this.eleicao&&this.eleicoesApi.getCronograma(this.eleicao.id).subscribe(e=>{this.eleicao.cronograma=e})}confirmacaoProximaEtapa(e){return e&&new Date(e.dataPrevista)>new Date?this.toasts.confirmModal(`O fim dessa etapa est\xe1 previsto para o dia ${Object(o.v)(e.dataPrevista,"dd/MM/yyyy","pt-BR")}.\n                  Se n\xe3o houver nenhuma inconsist\xeancia, passaremos para o pr\xf3xima etapa automaticamente na data prevista.\n                  Tem certeza que deseja antecipar a pr\xf3xima etapa?`,"Essa a\xe7\xe3o n\xe3o pode ser desfeita!"):this.toasts.confirmModal("Tem certeza que deseja passar para a pr\xf3xima etapa?","Essa a\xe7\xe3o n\xe3o pode ser desfeita!")}get iniciarProcessoText(){return this.eleicao&&this.eleicao.cronograma&&this.eleicao.cronograma.length?new Date(this.eleicao.cronograma[0].dataPrevista)<new Date?"Iniciar Processo":"Antecipar In\xedcio":""}iniciarProcesso(){this.eleicao.cronograma&&this.eleicao.cronograma.length&&(this.eleicao.dimensionamento.qtdaEleitores?this.eleicao.dimensionamento.qtdaEfetivos+this.eleicao.dimensionamento.qtdaSuplentes?this.toasts.confirmModal(`O \xednicio do processo est\xe1 previsto para o dia ${Object(o.v)(this.eleicao.cronograma[0].dataPrevista,"dd/MM/yyyy","pt-BR")}.\n      Deseja realmente antecipar?`,"Confirma\xe7\xe3o").pipe(Object(s.a)(e=>e),Object(m.a)(e=>this.eleicoesApi.postProximaEtapa(this.eleicao.id))).subscribe(e=>this.alteracaoCronograma(e,"Processo iniciado com sucesso!")):this.toasts.errorModal(`Verificamos que h\xe1 somente ${this.eleicao.dimensionamento.qtdaEleitores} eleitores cadastrados.\n        Para estabelecimentos com esse n\xfamero de funcion\xe1rios n\xe3o h\xe1 necessidade de haverem representantes da CIPA.\n        Consulte a tabela de dimensionamento na NR-5.`):this.toasts.errorModal("Verificamos que ainda n\xe3o h\xe1 nenhum eleitor cadastrado.\n        Direcionaremos voc\xea para a tela de eleitores para a realiza\xe7\xe3o do cadastro.\n        Lembrando que voc\xea pode fazer o cadastro em massa via importa\xe7\xe3o de planilha e/ou cadastrar manualmente.").subscribe(e=>this.router.navigate(["../eleitores"],{relativeTo:this.route.parent})))}buscaProximaEtapa(e){const t=this.eleicao.cronograma.indexOf(e)+1;return t>=this.eleicao.cronograma.length?null:this.eleicao.cronograma[t]}proximaEtapa(e){this.confirmacaoProximaEtapa(this.buscaProximaEtapa(e)).pipe(Object(s.a)(e=>e)).subscribe(e=>{this.carregandoProximaEtapa=!0,this.eleicoesApi.postProximaEtapa(this.eleicao.id).pipe(Object(p.a)(()=>this.carregandoProximaEtapa=!1)).subscribe(e=>this.alteracaoCronograma(e,"Mudan\xe7a de etapa conclu\xedda com sucesso!"))})}alteracaoCronograma(e,t){this.eleicao.cronograma=e,this.toasts.showMessage({message:t,title:"Sucesso!",type:f.a.success})}exibirTemplates(e){this.etapasObrigatoriasApi.getTemplates(e.etapaObrigatoriaId).subscribe(e=>{this.templates=e,this.modalService.showModal(this.modalTemplates)})}showModalInfoCronograma(){this.modalService.showModal(this.modalInfoCronograma,"Sobre a atualiza\xe7\xe3o do cronograma")}get processoIniciado(){return this.eleicao&&this.eleicao.cronograma&&!this.eleicao.cronograma.every(e=>e.posicaoEtapa===r.b.Futura)}updateCronograma(){this.eleicoesApi.getCronograma(this.eleicao.id).subscribe(e=>{this.eleicao.cronograma=e})}atualizarDimensionamento(){this.eleicoesApi.postAtualizarDimensionamento(this.eleicao.id).pipe(Object(m.a)(e=>this.eleicoesApi.get(this.eleicao.id))).subscribe(e=>{e.cronograma=this.eleicao.cronograma,this.eleicao=e})}atualizarEtapa(e){this.eleicoesApi.putAtualizaEtapaCronograma(this.eleicao.id,e).pipe(Object(d.a)(e=>(this.updateCronograma(),Object(S.a)(e)))).subscribe(e=>{this.eleicao.cronograma=e,this.toasts.showMessage({message:"Etapa atualizada com sucesso!",title:"Sucesso!",type:f.a.success})})}}return e.\u0275fac=function(t){return new(t||e)(n["\u0275\u0275directiveInject"](i.a),n["\u0275\u0275directiveInject"](i.d),n["\u0275\u0275directiveInject"](u.a),n["\u0275\u0275directiveInject"](g.a),n["\u0275\u0275directiveInject"](x.a),n["\u0275\u0275directiveInject"](y))},e.\u0275cmp=n["\u0275\u0275defineComponent"]({type:e,selectors:[["app-cronograma"]],viewQuery:function(e,t){var a;1&e&&(n["\u0275\u0275viewQuery"](re,!0),n["\u0275\u0275viewQuery"](se,!0)),2&e&&(n["\u0275\u0275queryRefresh"](a=n["\u0275\u0275loadQuery"]())&&(t.modalTemplates=a.first),n["\u0275\u0275queryRefresh"](a=n["\u0275\u0275loadQuery"]())&&(t.modalInfoCronograma=a.first))},decls:12,vars:2,consts:[["modalInfoCronograma",""],[4,"ngIf"],[1,"row","m-b-md"],[1,"col-md-12"],[2,"text-decoration","underline",3,"click"],["id","vertical-timeline",1,"vertical-container","light-timeline","no-margins"],["etapa-cronograma","","class","vertical-timeline-block",3,"inactive","etapa","codigoGrupo","carregandoProximaEtapa","dimensionamento","proximaEtapa","atualizarEtapa","exibirTemplates","edicaoCancelada","atualizarDimensionamento",4,"ngFor","ngForOf"],["modalTemplates",""],[1,"row","m-b-lg"],[1,"col-sm-12"],[1,"btn","btn-success","m-r-sm",3,"routerLink"],[1,"fa","fa-users"],[1,"btn","btn-primary",3,"click"],[1,"fa","fa-clock-o"],["etapa-cronograma","",1,"vertical-timeline-block",3,"etapa","codigoGrupo","carregandoProximaEtapa","dimensionamento","proximaEtapa","atualizarEtapa","exibirTemplates","edicaoCancelada","atualizarDimensionamento"],[3,"templates"]],template:function(e,t){1&e&&(n["\u0275\u0275template"](0,le,1,0,"ng-template",null,0,n["\u0275\u0275templateRefExtractor"]),n["\u0275\u0275template"](2,me,13,4,"div",1),n["\u0275\u0275elementStart"](3,"div",2),n["\u0275\u0275elementStart"](4,"div",3),n["\u0275\u0275elementStart"](5,"a",4),n["\u0275\u0275listener"]("click",(function(){return t.showModalInfoCronograma()})),n["\u0275\u0275text"](6,"Clique aqui"),n["\u0275\u0275elementEnd"](),n["\u0275\u0275text"](7," para saber mais sobre a atualiza\xe7\xe3o autom\xe1tica do cronograma. "),n["\u0275\u0275elementEnd"](),n["\u0275\u0275elementEnd"](),n["\u0275\u0275elementStart"](8,"div",5),n["\u0275\u0275template"](9,pe,1,6,"div",6),n["\u0275\u0275elementEnd"](),n["\u0275\u0275template"](10,de,1,1,"ng-template",null,7,n["\u0275\u0275templateRefExtractor"])),2&e&&(n["\u0275\u0275advance"](2),n["\u0275\u0275property"]("ngIf",!t.processoIniciado),n["\u0275\u0275advance"](7),n["\u0275\u0275property"]("ngForOf",t.eleicao.cronograma))},directives:[o.m,o.l,I,i.f,ae,ie],styles:[""]}),e})();var ge=a("Sy1n"),fe=a("CF8v");const xe=[{path:"",component:ue,data:{navigationType:ge.b.Left,breadcrumb:"Cronograma",title:"Cronograma"},resolve:{eleicao:fe.a}}];let he=(()=>{class e{}return e.\u0275mod=n["\u0275\u0275defineNgModule"]({type:e}),e.\u0275inj=n["\u0275\u0275defineInjector"]({factory:function(t){return new(t||e)},imports:[[i.g.forChild(xe)],i.g]}),e})();var ve=a("PCNd");a.d(t,"CronogramaModule",(function(){return be}));let be=(()=>{class e{}return e.\u0275mod=n["\u0275\u0275defineNgModule"]({type:e}),e.\u0275inj=n["\u0275\u0275defineInjector"]({factory:function(t){return new(t||e)},imports:[[o.c,he,ve.a]]}),e})()}}]);