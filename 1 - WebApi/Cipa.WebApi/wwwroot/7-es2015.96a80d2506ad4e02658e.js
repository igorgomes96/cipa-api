(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{COo8:function(e,t,a){"use strict";a.r(t);var n=a("fXoL"),o=a("tyNb"),r=a("iufN"),i=a("9JBg"),s=a("3Pt+"),l=a("dWir"),c=a("gbzl"),d=a("7dP1"),m=a("pLZG"),u=a("nYR2"),p=a("19Fg");let h=(()=>{class e{constructor(e,t,a,n,o,r){this.loginService=e,this.formBuilder=t,this.router=a,this.toast=n,this.authService=o,this.route=r,this.loggingOn=!1,this.redirectTo="/"}ngOnInit(){this.form=this.formBuilder.group({email:["",[s.Validators.required,s.Validators.email]],senha:["",s.Validators.required]}),this.route.queryParamMap.pipe(Object(m.a)(e=>e.has("redirectTo"))).subscribe(e=>this.redirectTo=e.get("redirectTo"))}login(){this.loggingOn=!0,this.loginService.login(this.form.value).pipe(Object(u.a)(()=>this.loggingOn=!1)).subscribe(e=>{this.authService.token=e.accessToken,this.toast.showMessage({message:"Login realizado com Sucesso!",title:"Sucesso!",type:c.a.success}),this.router.navigate(this.authService.authInfo.perfil===r.a.Administrador?["/contas"]:[this.redirectTo])})}}return e.\u0275fac=function(t){return new(t||e)(n["\u0275\u0275directiveInject"](i.a),n["\u0275\u0275directiveInject"](s.FormBuilder),n["\u0275\u0275directiveInject"](o.d),n["\u0275\u0275directiveInject"](l.a),n["\u0275\u0275directiveInject"](d.a),n["\u0275\u0275directiveInject"](o.a))},e.\u0275cmp=n["\u0275\u0275defineComponent"]({type:e,selectors:[["app-login"]],decls:34,vars:3,consts:[[1,"loginColumns","animated","fadeInDown"],[1,"row"],[1,"col-md-6"],[1,"font-bold"],[1,"ibox-content"],["role","form",1,"m-t",3,"formGroup","submit"],[1,"form-group"],["type","email","placeholder","E-mail","formControlName","email",1,"form-control"],["type","password","placeholder","Senha","formControlName","senha",1,"form-control"],["type","submit",1,"btn","btn-primary","block","full-width","m-b",3,"disabled","ladda"],[1,"text-muted","text-center"],["routerLink","../recuperacao",1,"text-center"],[1,"m-t","text-center"],[1,"col-md-6","text-right"]],template:function(e,t){1&e&&(n["\u0275\u0275elementStart"](0,"div",0),n["\u0275\u0275elementStart"](1,"div",1),n["\u0275\u0275elementStart"](2,"div",2),n["\u0275\u0275elementStart"](3,"h2",3),n["\u0275\u0275text"](4,"Bem-vindo ao Sistema de Vota\xe7\xe3o Online!"),n["\u0275\u0275elementEnd"](),n["\u0275\u0275elementStart"](5,"p"),n["\u0275\u0275text"](6," Administre o processo eleitoral da CIPA de todos os estabelecimentos de sua empresa atrav\xe9s do nosso sistema! "),n["\u0275\u0275elementEnd"](),n["\u0275\u0275elementStart"](7,"p"),n["\u0275\u0275text"](8," Voc\xea define o cronograma, desde a Convoca\xe7\xe3o at\xe9 a Ata da Elei\xe7\xe3o, e o sistema te guiar\xe1 por cada uma das etapas. "),n["\u0275\u0275elementEnd"](),n["\u0275\u0275elementStart"](9,"p"),n["\u0275\u0275text"](10,"Enviamos comunicados para todos os funcion\xe1rios de acordo com a etapa da elei\xe7\xe3o, e permitimos que voc\xea salve todos os documentos relacionados ao processo. E tudo isso, seguindo todas as defini\xe7\xf5es da NR-5."),n["\u0275\u0275elementEnd"](),n["\u0275\u0275elementEnd"](),n["\u0275\u0275elementStart"](11,"div",2),n["\u0275\u0275elementStart"](12,"div",4),n["\u0275\u0275elementStart"](13,"form",5),n["\u0275\u0275listener"]("submit",(function(){return t.login()})),n["\u0275\u0275elementStart"](14,"div",6),n["\u0275\u0275element"](15,"input",7),n["\u0275\u0275elementEnd"](),n["\u0275\u0275elementStart"](16,"div",6),n["\u0275\u0275element"](17,"input",8),n["\u0275\u0275elementEnd"](),n["\u0275\u0275elementStart"](18,"button",9),n["\u0275\u0275text"](19,"Login"),n["\u0275\u0275elementEnd"](),n["\u0275\u0275elementStart"](20,"p",10),n["\u0275\u0275elementStart"](21,"a",11),n["\u0275\u0275text"](22," Esqueceu sua senha? "),n["\u0275\u0275elementEnd"](),n["\u0275\u0275elementEnd"](),n["\u0275\u0275element"](23,"br"),n["\u0275\u0275elementEnd"](),n["\u0275\u0275elementStart"](24,"p",12),n["\u0275\u0275elementStart"](25,"small"),n["\u0275\u0275text"](26,"Sistema Web para Vota\xe7\xe3o Online \xa9 2019"),n["\u0275\u0275elementEnd"](),n["\u0275\u0275elementEnd"](),n["\u0275\u0275elementEnd"](),n["\u0275\u0275elementEnd"](),n["\u0275\u0275elementEnd"](),n["\u0275\u0275element"](27,"hr"),n["\u0275\u0275elementStart"](28,"div",1),n["\u0275\u0275elementStart"](29,"div",2),n["\u0275\u0275text"](30," Copyright Solu\xe7\xf5es Online "),n["\u0275\u0275elementEnd"](),n["\u0275\u0275elementStart"](31,"div",13),n["\u0275\u0275elementStart"](32,"small"),n["\u0275\u0275text"](33,"\xa9 2019"),n["\u0275\u0275elementEnd"](),n["\u0275\u0275elementEnd"](),n["\u0275\u0275elementEnd"](),n["\u0275\u0275elementEnd"]()),2&e&&(n["\u0275\u0275advance"](13),n["\u0275\u0275property"]("formGroup",t.form),n["\u0275\u0275advance"](5),n["\u0275\u0275property"]("disabled",t.form.invalid)("ladda",t.loggingOn))},directives:[s["\u0275angular_packages_forms_forms_y"],s.NgControlStatusGroup,s.FormGroupDirective,s.DefaultValueAccessor,s.NgControlStatus,s.FormControlName,p.a,o.f],styles:[".loginColumns[_ngcontent-%COMP%]{padding-top:5%}"]}),e})(),v=(()=>{class e{constructor(e,t,a,n){this.fb=e,this.loginApi=t,this.router=a,this.toast=n}ngOnInit(){this.form=this.fb.group({email:[null,[s.Validators.email,s.Validators.required]]})}solicitarReset(){this.loginApi.resetarSenha(this.form.get("email").value).subscribe(e=>{this.toast.showMessage({message:"Enviamos para seu e-mail um link para reset da senha.",title:"Sucesso",type:c.a.success}),this.router.navigate(["/autenticacao/verifiqueemail"])})}}return e.\u0275fac=function(t){return new(t||e)(n["\u0275\u0275directiveInject"](s.FormBuilder),n["\u0275\u0275directiveInject"](i.a),n["\u0275\u0275directiveInject"](o.d),n["\u0275\u0275directiveInject"](l.a))},e.\u0275cmp=n["\u0275\u0275defineComponent"]({type:e,selectors:[["app-solicitar-reset"]],decls:22,vars:2,consts:[[1,"passwordBox","animated","fadeInDown"],[1,"row"],[1,"col-md-12"],[1,"ibox-content"],[1,"font-bold","text-center"],[1,"col-lg-12"],["role","form",1,"m-t",3,"formGroup","submit"],[1,"form-group"],["type","email","placeholder","Email","formControlName","email",1,"form-control"],["type","submit",1,"btn","btn-primary","block","full-width","m-b",3,"disabled"],[1,"col-md-6"],[1,"col-md-6","text-right"]],template:function(e,t){1&e&&(n["\u0275\u0275elementStart"](0,"div",0),n["\u0275\u0275elementStart"](1,"div",1),n["\u0275\u0275elementStart"](2,"div",2),n["\u0275\u0275elementStart"](3,"div",3),n["\u0275\u0275elementStart"](4,"h2",4),n["\u0275\u0275text"](5,"Solicitar Reset de Senha"),n["\u0275\u0275elementEnd"](),n["\u0275\u0275elementStart"](6,"p"),n["\u0275\u0275text"](7," Informe seu e-mail e enviaremos um link para voc\xea recuperar seus acessos. "),n["\u0275\u0275elementEnd"](),n["\u0275\u0275elementStart"](8,"div",1),n["\u0275\u0275elementStart"](9,"div",5),n["\u0275\u0275elementStart"](10,"form",6),n["\u0275\u0275listener"]("submit",(function(){return t.solicitarReset()})),n["\u0275\u0275elementStart"](11,"div",7),n["\u0275\u0275element"](12,"input",8),n["\u0275\u0275elementEnd"](),n["\u0275\u0275elementStart"](13,"button",9),n["\u0275\u0275text"](14,"Enviar Email de Recupera\xe7\xe3o"),n["\u0275\u0275elementEnd"](),n["\u0275\u0275elementEnd"](),n["\u0275\u0275elementEnd"](),n["\u0275\u0275elementEnd"](),n["\u0275\u0275elementEnd"](),n["\u0275\u0275elementEnd"](),n["\u0275\u0275elementEnd"](),n["\u0275\u0275element"](15,"hr"),n["\u0275\u0275elementStart"](16,"div",1),n["\u0275\u0275elementStart"](17,"div",10),n["\u0275\u0275text"](18," Copyright Solu\xe7\xf5es Online "),n["\u0275\u0275elementEnd"](),n["\u0275\u0275elementStart"](19,"div",11),n["\u0275\u0275elementStart"](20,"small"),n["\u0275\u0275text"](21," \xa9 2019"),n["\u0275\u0275elementEnd"](),n["\u0275\u0275elementEnd"](),n["\u0275\u0275elementEnd"](),n["\u0275\u0275elementEnd"]()),2&e&&(n["\u0275\u0275advance"](10),n["\u0275\u0275property"]("formGroup",t.form),n["\u0275\u0275advance"](3),n["\u0275\u0275property"]("disabled",t.form.invalid))},directives:[s["\u0275angular_packages_forms_forms_y"],s.NgControlStatusGroup,s.FormGroupDirective,s.DefaultValueAccessor,s.NgControlStatus,s.FormControlName],styles:[""]}),e})();var g=a("lJxs"),f=a("jKAO"),S=a("t3HL"),b=a("UWj2");let E=(()=>{class e{constructor(){this.titulo="",this.descricao="",this.botaoSalvar="",this.emailValidacao="",this.enviar=new n.EventEmitter}ngOnInit(){this.usuario||(this.usuario=new r.b)}enviarUsuario(){this.enviar.emit(this.usuario)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=n["\u0275\u0275defineComponent"]({type:e,selectors:[["app-form-cadastro"]],inputs:{titulo:"titulo",descricao:"descricao",botaoSalvar:"botaoSalvar",usuario:"usuario",emailValidacao:"emailValidacao"},outputs:{enviar:"enviar"},decls:29,vars:17,consts:[[1,"passwordBox","animated","fadeInDown"],[1,"row"],[1,"col-md-12"],[1,"ibox-content"],[1,"font-bold","text-center"],[1,"col-lg-12"],["role","form",1,"m-t",3,"submit"],["form","ngForm"],["id","email","label","Email","email","","name","email","placeholder","Email","required","",3,"ngModel","control","equals","showLabel","readOnly","ngModelChange"],["email","ngModel"],["id","senha","label","Nova Senha","name","senha","placeholder","Nova Senha","type","password","minlength","8","required","",3,"ngModel","control","showLabel","readOnly","ngModelChange"],["senha","ngModel"],["id","confirmacaoSenha","label","Confirma\xe7\xe3o da Senha","name","confirmacaoSenha","placeholder","Confirma\xe7\xe3o da Senha","minlength","8","equalsto","senha","type","password","required","",3,"ngModel","control","showLabel","readOnly","ngModelChange"],["confirmacaoSenha","ngModel"],["type","submit",1,"btn","btn-primary","block","full-width","m-b",3,"disabled"],["routerLink","/autenticacao/login",1,"btn","btn-white","block","full-width","m-b"],[1,"col-md-6"],[1,"col-md-6","text-right"]],template:function(e,t){if(1&e&&(n["\u0275\u0275elementStart"](0,"div",0),n["\u0275\u0275elementStart"](1,"div",1),n["\u0275\u0275elementStart"](2,"div",2),n["\u0275\u0275elementStart"](3,"div",3),n["\u0275\u0275elementStart"](4,"h2",4),n["\u0275\u0275text"](5),n["\u0275\u0275elementEnd"](),n["\u0275\u0275elementStart"](6,"p"),n["\u0275\u0275text"](7),n["\u0275\u0275elementEnd"](),n["\u0275\u0275elementStart"](8,"div",1),n["\u0275\u0275elementStart"](9,"div",5),n["\u0275\u0275elementStart"](10,"form",6,7),n["\u0275\u0275listener"]("submit",(function(){return t.enviarUsuario()})),n["\u0275\u0275elementStart"](12,"app-custom-input",8,9),n["\u0275\u0275listener"]("ngModelChange",(function(e){return t.usuario.email=e})),n["\u0275\u0275elementEnd"](),n["\u0275\u0275elementStart"](14,"app-custom-input",10,11),n["\u0275\u0275listener"]("ngModelChange",(function(e){return t.usuario.senha=e})),n["\u0275\u0275elementEnd"](),n["\u0275\u0275elementStart"](16,"app-custom-input",12,13),n["\u0275\u0275listener"]("ngModelChange",(function(e){return t.usuario.confirmacaoSenha=e})),n["\u0275\u0275elementEnd"](),n["\u0275\u0275elementStart"](18,"button",14),n["\u0275\u0275text"](19),n["\u0275\u0275elementEnd"](),n["\u0275\u0275elementStart"](20,"a",15),n["\u0275\u0275text"](21,"Cancelar"),n["\u0275\u0275elementEnd"](),n["\u0275\u0275elementEnd"](),n["\u0275\u0275elementEnd"](),n["\u0275\u0275elementEnd"](),n["\u0275\u0275elementEnd"](),n["\u0275\u0275elementEnd"](),n["\u0275\u0275elementEnd"](),n["\u0275\u0275element"](22,"hr"),n["\u0275\u0275elementStart"](23,"div",1),n["\u0275\u0275elementStart"](24,"div",16),n["\u0275\u0275text"](25," Copyright Solu\xe7\xf5es Online "),n["\u0275\u0275elementEnd"](),n["\u0275\u0275elementStart"](26,"div",17),n["\u0275\u0275elementStart"](27,"small"),n["\u0275\u0275text"](28," \xa9 2019"),n["\u0275\u0275elementEnd"](),n["\u0275\u0275elementEnd"](),n["\u0275\u0275elementEnd"](),n["\u0275\u0275elementEnd"]()),2&e){const e=n["\u0275\u0275reference"](11),a=n["\u0275\u0275reference"](13),o=n["\u0275\u0275reference"](15),r=n["\u0275\u0275reference"](17);n["\u0275\u0275advance"](5),n["\u0275\u0275textInterpolate"](t.titulo),n["\u0275\u0275advance"](2),n["\u0275\u0275textInterpolate1"](" ",t.descricao," "),n["\u0275\u0275advance"](5),n["\u0275\u0275property"]("ngModel",t.usuario.email)("control",a)("equals",t.emailValidacao)("showLabel",!1)("readOnly",!t.emailValidacao),n["\u0275\u0275advance"](2),n["\u0275\u0275property"]("ngModel",t.usuario.senha)("control",o)("showLabel",!1)("readOnly",!1),n["\u0275\u0275advance"](2),n["\u0275\u0275property"]("ngModel",t.usuario.confirmacaoSenha)("control",r)("showLabel",!1)("readOnly",!1),n["\u0275\u0275advance"](2),n["\u0275\u0275property"]("disabled",e.invalid),n["\u0275\u0275advance"](1),n["\u0275\u0275textInterpolate"](t.botaoSalvar)}},directives:[s["\u0275angular_packages_forms_forms_y"],s.NgControlStatusGroup,s.NgForm,f.a,s.EmailValidator,s.RequiredValidator,s.NgControlStatus,s.NgModel,S.a,s.MinLengthValidator,b.a,o.f],styles:[""]}),e})(),y=(()=>{class e{constructor(e,t,a,n,o){this.route=e,this.loginApi=t,this.authService=a,this.toast=n,this.router=o,this.redirectTo="/",this.codigoRecuperacao=""}ngOnInit(){this.route.data.pipe(Object(m.a)(e=>e.hasOwnProperty("usuario")),Object(g.a)(e=>e.usuario)).subscribe(e=>{this.usuario=e}),this.route.params.subscribe(e=>this.codigoRecuperacao=e.codigo),this.route.queryParamMap.pipe(Object(m.a)(e=>e.has("redirectTo"))).subscribe(e=>this.redirectTo=e.get("redirectTo"))}cadastrar(e){e.codigoRecuperacao=this.codigoRecuperacao,this.loginApi.cadastrarSenha(e).subscribe(e=>{this.authService.token=e.accessToken,this.toast.showMessage({message:"Senha cadastrada com sucesso!",title:"Sucesso!",type:c.a.success}),this.router.navigate([this.redirectTo])})}}return e.\u0275fac=function(t){return new(t||e)(n["\u0275\u0275directiveInject"](o.a),n["\u0275\u0275directiveInject"](i.a),n["\u0275\u0275directiveInject"](d.a),n["\u0275\u0275directiveInject"](l.a),n["\u0275\u0275directiveInject"](o.d))},e.\u0275cmp=n["\u0275\u0275defineComponent"]({type:e,selectors:[["app-cadastro"]],decls:1,vars:1,consts:[["titulo","Cadastro de Usu\xe1rio","descricao","Informe seu email e sua senha para criarmos seu usu\xe1rio de acesso ao sistema.","botaoSalvar","Cadastrar",3,"emailValidacao","enviar"]],template:function(e,t){1&e&&(n["\u0275\u0275elementStart"](0,"app-form-cadastro",0),n["\u0275\u0275listener"]("enviar",(function(e){return t.cadastrar(e)})),n["\u0275\u0275elementEnd"]()),2&e&&n["\u0275\u0275property"]("emailValidacao",t.usuario.email)},directives:[E],styles:[""]}),e})(),w=(()=>{class e{constructor(e,t,a,n,o){this.route=e,this.loginApi=t,this.authService=a,this.toast=n,this.router=o,this.codigoRecuperacao=""}ngOnInit(){this.route.data.pipe(Object(m.a)(e=>e.hasOwnProperty("usuario")),Object(g.a)(e=>e.usuario)).subscribe(e=>{this.usuario=e}),this.route.params.subscribe(e=>this.codigoRecuperacao=e.codigo)}resetar(e){e.codigoRecuperacao=this.codigoRecuperacao,this.loginApi.cadastrarSenha(e).subscribe(e=>{this.authService.token=e.accessToken,this.toast.showMessage({message:"Senha alterada com Sucesso!",title:"Sucesso!",type:c.a.success}),this.router.navigate(["/"])})}}return e.\u0275fac=function(t){return new(t||e)(n["\u0275\u0275directiveInject"](o.a),n["\u0275\u0275directiveInject"](i.a),n["\u0275\u0275directiveInject"](d.a),n["\u0275\u0275directiveInject"](l.a),n["\u0275\u0275directiveInject"](o.d))},e.\u0275cmp=n["\u0275\u0275defineComponent"]({type:e,selectors:[["app-reset-senha"]],decls:1,vars:1,consts:[["titulo","Reset de Senha","descricao","Cadastre uma nova senha de acesso para continuar utilizando nosso sistema.","botaoSalvar","Resetar Senha",3,"usuario","enviar"]],template:function(e,t){1&e&&(n["\u0275\u0275elementStart"](0,"app-form-cadastro",0),n["\u0275\u0275listener"]("enviar",(function(e){return t.resetar(e)})),n["\u0275\u0275elementEnd"]()),2&e&&n["\u0275\u0275property"]("usuario",t.usuario)},directives:[E],styles:[""]}),e})();var x=a("LRne"),I=a("JIr8");let C=(()=>{class e{constructor(e,t){this.api=e,this.router=t}resolve(e,t){if(e.paramMap.has("codigo")){const t=e.paramMap.get("codigo");return this.api.buscaPeloCodigoRecuperacao(t).pipe(Object(I.a)(e=>(this.router.navigate(["/autenticacao/login"]),Object(x.a)(null))))}this.router.navigate(["/autenticacao/login"])}}return e.\u0275fac=function(t){return new(t||e)(n["\u0275\u0275inject"](i.a),n["\u0275\u0275inject"](o.d))},e.\u0275prov=n["\u0275\u0275defineInjectable"]({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();const j=[{path:"login",component:h,data:{showFooter:!1}},{path:"recuperacao",component:v,data:{showFooter:!1}},{path:"verifiqueemail",component:(()=>{class e{constructor(){}ngOnInit(){}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=n["\u0275\u0275defineComponent"]({type:e,selectors:[["ng-component"]],decls:6,vars:0,consts:[[1,"middle-box","text-center","animated","fadeInDown"],["src","assets/img/email-sent.png","alt","Email enviado"],[1,"font-bold"],[1,"error-desc"]],template:function(e,t){1&e&&(n["\u0275\u0275elementStart"](0,"div",0),n["\u0275\u0275element"](1,"img",1),n["\u0275\u0275elementStart"](2,"h2",2),n["\u0275\u0275text"](3,"Verifique seu e-mail"),n["\u0275\u0275elementEnd"](),n["\u0275\u0275elementStart"](4,"div",3),n["\u0275\u0275text"](5," Enviamos para seu e-mail um link que permitir\xe1 voc\xea cadastrar uma nova senha. O e-mail pode demorar alguns minutos para chegar na sua caixa de mensagens. Se estiver demorando muito, verifique na caixa de spam. "),n["\u0275\u0275elementEnd"](),n["\u0275\u0275elementEnd"]())},styles:[""]}),e})(),data:{showFooter:!1}},{path:"reset/:codigo",component:w,data:{showFooter:!1},resolve:{usuario:C}},{path:"cadastro/:codigo",component:y,data:{showFooter:!1},resolve:{usuario:C}}];let O=(()=>{class e{}return e.\u0275mod=n["\u0275\u0275defineNgModule"]({type:e}),e.\u0275inj=n["\u0275\u0275defineInjector"]({factory:function(t){return new(t||e)},imports:[[o.g.forChild(j)],o.g]}),e})();var M=a("PCNd");a.d(t,"AutenticacaoModule",(function(){return k}));let k=(()=>{class e{}return e.\u0275mod=n["\u0275\u0275defineNgModule"]({type:e}),e.\u0275inj=n["\u0275\u0275defineInjector"]({factory:function(t){return new(t||e)},imports:[[O,M.a]]}),e})()}}]);