(window.webpackJsonp=window.webpackJsonp||[]).push([[12],{OORc:function(e,t,n){"use strict";n.r(t);var a=n("TYT/"),r=n("Valr"),s=n("mrSG"),i=n("Onx1"),o=n("wP9F"),c=n("VNr4"),p=n("F/XL"),l=n("67Y/"),m=n("9Z1F"),u=n("DUip"),d=function(){function e(e,t,n){this.api=e,this.estabelecimentosApi=t,this.router=n}return e.prototype.resolve=function(e,t){var n=this;if(e.paramMap.has("id")){var a=+e.paramMap.get("id");return Object(c.a)([this.api.get(a),this.estabelecimentosApi.getAll({empresaId:a})]).pipe(Object(l.a)((function(e){return Object(s.__assign)(Object(s.__assign)({},e[0]),{estabelecimentos:e[1]})})),Object(m.a)((function(e){return n.router.navigate(["/not-found"]),Object(p.a)(null)})))}this.router.navigate(["/not-found"])},e.\u0275fac=function(t){return new(t||e)(a["\u0275\u0275inject"](o.a),a["\u0275\u0275inject"](i.a),a["\u0275\u0275inject"](u.d))},e.\u0275prov=a["\u0275\u0275defineInjectable"]({token:e,factory:e.\u0275fac,providedIn:"root"}),e}(),f=n("VnD/"),v=n("15JJ"),E=n("dWir"),h=n("gbzl"),b=n("UdTj"),y=n("jPUR"),S=function(e){return["./",e]};function g(e,t){if(1&e){var n=a["\u0275\u0275getCurrentView"]();a["\u0275\u0275elementStart"](0,"tr"),a["\u0275\u0275elementStart"](1,"td"),a["\u0275\u0275text"](2),a["\u0275\u0275pipe"](3,"mask"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](4,"td"),a["\u0275\u0275text"](5),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](6,"td"),a["\u0275\u0275text"](7),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](8,"td",2),a["\u0275\u0275elementStart"](9,"div"),a["\u0275\u0275elementStart"](10,"a",4),a["\u0275\u0275element"](11,"i",5),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](12,"button",6),a["\u0275\u0275listener"]("click",(function(){a["\u0275\u0275restoreView"](n);var e=t.$implicit;return a["\u0275\u0275nextContext"]().exclui(e)})),a["\u0275\u0275element"](13,"i",7),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"]()}if(2&e){var r=t.$implicit;a["\u0275\u0275advance"](2),a["\u0275\u0275textInterpolate"](a["\u0275\u0275pipeBind2"](3,4,r.cnpj,"00.000.000/0000-00")),a["\u0275\u0275advance"](3),a["\u0275\u0275textInterpolate"](r.razaoSocial),a["\u0275\u0275advance"](2),a["\u0275\u0275textInterpolate"](r.informacoesGerais),a["\u0275\u0275advance"](3),a["\u0275\u0275property"]("routerLink",a["\u0275\u0275pureFunction1"](7,S,r.id))}}var j=function(){function e(e){this.toast=e,this.excluir=new a.EventEmitter}return e.prototype.ngOnInit=function(){},e.prototype.exclui=function(e){var t=this;this.toast.confirmModal("Deseja relamente excluir essa empresa? Essa a\xe7\xe3o n\xe3o poder\xe1 ser desfeita.","Confirma\xe7\xe3o de Exclus\xe3o").pipe(Object(f.a)((function(e){return e}))).subscribe((function(n){return t.excluir.emit(e)}))},e.\u0275fac=function(t){return new(t||e)(a["\u0275\u0275directiveInject"](E.a))},e.\u0275cmp=a["\u0275\u0275defineComponent"]({type:e,selectors:[["app-empresas-lista"]],inputs:{empresas:"empresas"},outputs:{excluir:"excluir"},decls:13,vars:1,consts:[[1,"table-responsive"],[1,"table","table-striped"],[1,"text-right"],[4,"ngFor","ngForOf"],[1,"btn","btn-xs","btn-outline","btn-success","m-r-xs",3,"routerLink"],[1,"fa","fa-pencil"],[1,"btn","btn-xs","btn-outline","btn-danger",3,"click"],[1,"fa","fa-trash"]],template:function(e,t){1&e&&(a["\u0275\u0275elementStart"](0,"div",0),a["\u0275\u0275elementStart"](1,"table",1),a["\u0275\u0275elementStart"](2,"thead"),a["\u0275\u0275elementStart"](3,"tr"),a["\u0275\u0275elementStart"](4,"th"),a["\u0275\u0275text"](5,"CNPJ"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](6,"th"),a["\u0275\u0275text"](7,"Raz\xe3o Social"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](8,"th"),a["\u0275\u0275text"](9,"Informa\xe7\xf5es Gerais"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275element"](10,"th",2),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](11,"tbody"),a["\u0275\u0275template"](12,g,14,9,"tr",3),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"]()),2&e&&(a["\u0275\u0275advance"](12),a["\u0275\u0275property"]("ngForOf",t.empresas))},directives:[r.l,u.f],pipes:[y.a],styles:[""]}),e}(),x=function(){function e(e,t,n){this.route=e,this.empresasApi=t,this.toast=n}return e.prototype.ngOnInit=function(){var e=this;this.route.data.pipe(Object(f.a)((function(e){return e.hasOwnProperty("empresas")})),Object(l.a)((function(e){return e.empresas}))).subscribe((function(t){e.empresas=t}))},e.prototype.exclui=function(e){var t=this;this.empresasApi.delete(e.id).pipe(Object(v.a)((function(e){return t.empresasApi.getAll()}))).subscribe((function(e){t.toast.showMessage({message:"Empresa exclu\xedda com sucesso!",title:"Sucesso!",type:h.a.success}),t.empresas=e}))},e.\u0275fac=function(t){return new(t||e)(a["\u0275\u0275directiveInject"](u.a),a["\u0275\u0275directiveInject"](o.a),a["\u0275\u0275directiveInject"](E.a))},e.\u0275cmp=a["\u0275\u0275defineComponent"]({type:e,selectors:[["app-empresas"]],decls:6,vars:1,consts:[[1,"container"],["title","Empresas Cadastradas"],["routerLink","nova",1,"btn","btn-primary","m-b-md"],[1,"fa","fa-plus"],[3,"empresas","excluir"]],template:function(e,t){1&e&&(a["\u0275\u0275elementStart"](0,"div",0),a["\u0275\u0275elementStart"](1,"app-panel",1),a["\u0275\u0275elementStart"](2,"a",2),a["\u0275\u0275element"](3,"span",3),a["\u0275\u0275text"](4," Nova Empresa"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](5,"app-empresas-lista",4),a["\u0275\u0275listener"]("excluir",(function(e){return t.exclui(e)})),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"]()),2&e&&(a["\u0275\u0275advance"](5),a["\u0275\u0275property"]("empresas",t.empresas))},directives:[b.a,u.f,j],styles:[""]}),e}(),w=n("Sy1n"),I=n("EmVR"),O=n("vcDO"),A=function(){function e(e,t,n){this.router=e,this.empresasApi=t,this.toast=n}return e.prototype.ngOnInit=function(){},e.prototype.cancelarEdicao=function(){this.router.navigate(["/empresas"])},e.prototype.salvar=function(e){var t=this;this.empresasApi.post(e).subscribe((function(e){t.toast.showMessage({message:"Empresa cadastrada com sucesso!",title:"Sucesso",type:h.a.success}),t.router.navigate(["/empresas"])}))},e.\u0275fac=function(t){return new(t||e)(a["\u0275\u0275directiveInject"](u.d),a["\u0275\u0275directiveInject"](o.a),a["\u0275\u0275directiveInject"](E.a))},e.\u0275cmp=a["\u0275\u0275defineComponent"]({type:e,selectors:[["app-empresa-nova"]],decls:3,vars:0,consts:[[1,"container"],["title","Nova Empresa"],[3,"salvarEmpresa","cancelarEdicao"]],template:function(e,t){1&e&&(a["\u0275\u0275elementStart"](0,"div",0),a["\u0275\u0275elementStart"](1,"app-panel",1),a["\u0275\u0275elementStart"](2,"app-empresa-shared-form",2),a["\u0275\u0275listener"]("salvarEmpresa",(function(e){return t.salvar(e)}))("cancelarEdicao",(function(){return t.cancelarEdicao()})),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"]())},directives:[b.a,O.a],styles:[""]}),e}(),C=n("UHvN"),M=[{path:"",data:{navigationType:w.b.Top},children:[{path:"",resolve:{empresas:I.a},component:x},{path:"nova",component:A},{path:":id",component:function(){function e(e,t,n,a){this.route=e,this.router=t,this.toast=n,this.empresasApi=a}return e.prototype.ngOnInit=function(){var e=this;this.route.data.pipe(Object(f.a)((function(e){return e.hasOwnProperty("empresa")})),Object(l.a)((function(e){return e.empresa}))).subscribe((function(t){e.empresa=t}))},e.prototype.cancelarEdicao=function(){this.router.navigate(["/empresas"])},e.prototype.salvar=function(){var e=this;this.empresasApi.put(this.empresa.id,this.empresa).subscribe((function(t){e.toast.showMessage({message:"Empresa atualizada com sucesso!",title:"Sucesso",type:h.a.success}),e.router.navigate(["/empresas"])}))},e.prototype.removerEstabelecimento=function(e){var t=this.empresa.estabelecimentos.findIndex((function(t){return t.id===e.id}));this.empresa.estabelecimentos.splice(t,1),this.toast.showMessage({message:"Estabelecimento exclu\xeddo com sucesso!",title:"Sucesso",type:h.a.success})},e.\u0275fac=function(t){return new(t||e)(a["\u0275\u0275directiveInject"](u.a),a["\u0275\u0275directiveInject"](u.d),a["\u0275\u0275directiveInject"](E.a),a["\u0275\u0275directiveInject"](o.a))},e.\u0275cmp=a["\u0275\u0275defineComponent"]({type:e,selectors:[["app-empresa-edicao"]],decls:10,vars:2,consts:[[1,"container"],["title","Edi\xe7\xe3o da Empresa"],[1,"row"],[1,"col-sm-12"],[3,"empresa","cancelarEdicao","salvarEmpresa"],[1,"row","m-t-lg"],[3,"estabelecimentos","estabelecimentoExcluido"]],template:function(e,t){1&e&&(a["\u0275\u0275elementStart"](0,"div",0),a["\u0275\u0275elementStart"](1,"app-panel",1),a["\u0275\u0275elementStart"](2,"div",2),a["\u0275\u0275elementStart"](3,"div",3),a["\u0275\u0275elementStart"](4,"app-empresa-shared-form",4),a["\u0275\u0275listener"]("cancelarEdicao",(function(){return t.cancelarEdicao()}))("salvarEmpresa",(function(){return t.salvar()})),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](5,"div",5),a["\u0275\u0275elementStart"](6,"div",3),a["\u0275\u0275elementStart"](7,"h4"),a["\u0275\u0275text"](8,"Estabelecimentos"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](9,"app-estabelecimentos-lista",6),a["\u0275\u0275listener"]("estabelecimentoExcluido",(function(e){return t.removerEstabelecimento(e)})),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"]()),2&e&&(a["\u0275\u0275advance"](4),a["\u0275\u0275property"]("empresa",t.empresa),a["\u0275\u0275advance"](5),a["\u0275\u0275property"]("estabelecimentos",t.empresa.estabelecimentos))},directives:[b.a,O.a,C.a],styles:[""]}),e}(),resolve:{empresa:d}}]}],k=function(){function e(){}return e.\u0275mod=a["\u0275\u0275defineNgModule"]({type:e}),e.\u0275inj=a["\u0275\u0275defineInjector"]({factory:function(t){return new(t||e)},imports:[[u.g.forChild(M)],u.g]}),e}(),N=n("PCNd");n.d(t,"EmpresasModule",(function(){return F}));var F=function(){function e(){}return e.\u0275mod=a["\u0275\u0275defineNgModule"]({type:e}),e.\u0275inj=a["\u0275\u0275defineInjector"]({factory:function(t){return new(t||e)},imports:[[r.c,k,N.a]]}),e}()}}]);